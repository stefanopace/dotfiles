# vim syntax=sh
PS1='`
current_status=$?
bar_char="⎴"
status_color=$([ ${current_status} == 0 ] && echo '\\[\\e[32m\\]' || echo '\\[\\e[31m\\]')
current_branch=$(git rev-parse --is-inside-work-tree &> /dev/null && git rev-parse --abbrev-ref HEAD 2> /dev/null | tr -d "\n")
rendered_branch="? "
branch_space=2
case ${current_branch} in
    "master") rendered_branch="\[\e[7m\]▇▆▅▄▃▂▁  ~ \[\e[27m\]"; branch_space=11 ;;
          "") rendered_branch="" ; branch_space=0 ;;
           *) rendered_branch="\[\e[7m\]▇▆▅▄▃▂▁  ${current_branch} \[\e[27m\]"; branch_space=$((${#current_branch} + 12)) ;;
esac
rendered_status=""
status_space=0
case ${current_status} in
           0) rendered_status=""; status_space=0 ;;
           *) rendered_status="\[\e[7m\] ${current_status} ▁▂▃▄▅▆▇\[\e[27m\]"; status_space=$((${#current_status} + 9)) ;;
esac
bar_length=$(($(tput cols)-${branch_space}-${status_space}))
printf "${status_color}"
printf "${rendered_status}"
printf "%.s${bar_char}" $(seq 1 ${bar_length})
printf "${rendered_branch}"
`\n\[\e[93m\]`test -n "$PROMPT_REMOVE_HOSTNAME" || ( cat /etc/hostname | tr -d "\n" && echo : )`\[\e[00m\]`
d | sed -E "s|([^/]+)|\[\e[94m\]\1\[\e[00m\]|g"
case $(whoami) in
        "stefano") echo ">"  ;;
    "stefanopace") echo ">"  ;;
           "root") echo "#>" ;;
                *) echo "??>";;
esac`'
